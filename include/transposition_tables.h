#ifndef ZOBRIST_H
#define ZOBRIST_H

#include <stdint.h>
#include "types.h"

#define TT_NO_SCORE 8888888


static const uint64_t zobrist_table[781] = {5146154924990502082ULL, 92016924417766725ULL, 1483988501947767112ULL, 7130152256943416140ULL, 8334473382235600863ULL, 3282437436054868489ULL, 8587663511591444324ULL, 5795263582407530015ULL, 2368772860416622302ULL, 14877659479847391874ULL, 15304830947713752183ULL, 15919541377352643077ULL, 6623680179937438414ULL, 10545690094411539260ULL, 4253845932526642865ULL, 10659187237775066635ULL, 652668759500352038ULL, 15808974600436084869ULL, 17369452921739660360ULL, 12286142069529347114ULL, 6956980581783920993ULL, 15572174642797780873ULL, 5783088564805971851ULL, 11644765603575299976ULL, 13652093613235998228ULL, 1174986276238853365ULL, 3360677258868589912ULL, 10552479576153561797ULL, 17346297745617058918ULL, 8061429622593249388ULL, 1423699491242882040ULL, 461451361937345733ULL, 18040557306508932534ULL, 15718899960903268405ULL, 1124384329282436768ULL, 8839456931634164300ULL, 15076599146962121119ULL, 11308352793339067760ULL, 16000295894041759250ULL, 2719679806671742514ULL, 14551200743118871997ULL, 17568515179027449021ULL, 3280740453192462326ULL, 15272108059523790513ULL, 7614635873660708306ULL, 4151616020837871670ULL, 18224315839915612325ULL, 13807209819275066729ULL, 12229411401523490844ULL, 15747086570905404634ULL, 12945290045163348174ULL, 1172107507364341192ULL, 8672998452767769783ULL, 13486568934092473943ULL, 16875146681150590444ULL, 18183651725847139429ULL, 13752040398331428842ULL, 12334249280564315429ULL, 6994664670174612049ULL, 8137793940148271244ULL, 920496575610281033ULL, 7822071686814534452ULL, 8640962132823085446ULL, 2470021881965713767ULL, 725367560663804854ULL, 9315619197932216767ULL, 9772860793077364367ULL, 2376803117511241769ULL, 15213428626244574004ULL, 5329164369101649520ULL, 3758396066687797276ULL, 6188950270913931929ULL, 8400697268575209001ULL, 195235513871736414ULL, 14048354138442721338ULL, 16533746219363926933ULL, 16807488101104915234ULL, 13556365331100734546ULL, 7022659051977355922ULL, 16263839471585347908ULL, 14116060400459338224ULL, 8288548508094774622ULL, 8633776046956363098ULL, 12997878381938693225ULL, 16787898771921118172ULL, 16660116614802005382ULL, 12158502773615656408ULL, 8142553174259737990ULL, 752497217074073145ULL, 8177195373798254050ULL, 14025727776058336401ULL, 6472254888443791517ULL, 9372387569289650958ULL, 10775431792355431033ULL, 5814816154865842374ULL, 11152200056881247187ULL, 7961400952981266635ULL, 9408332315908184570ULL, 5976252707739711533ULL, 10030778516361297563ULL, 12629769414916134846ULL, 6484779287985245469ULL, 12527909361352696510ULL, 5191039774119275414ULL, 10964047144401481464ULL, 3634593482596439783ULL, 4471791814540322229ULL, 10495446292754863844ULL, 2572398547484093404ULL, 3274955287356370302ULL, 815899344784977325ULL, 11096797370782549407ULL, 10899976797533895598ULL, 12893756356925743137ULL, 643633814803774685ULL, 10234317694376236316ULL, 14044934738896298829ULL, 3699134110829247455ULL, 4208310240742578603ULL, 14556237565424532277ULL, 18017668208547732761ULL, 652845893050340970ULL, 8031191815839069773ULL, 9988781879516711999ULL, 16964333991358215958ULL, 1364080705433023849ULL, 13635150371327872481ULL, 7646511849801392994ULL, 1405016528532387256ULL, 3624110475196740024ULL, 7933144138147217084ULL, 8807177521724074355ULL, 8653727137943300561ULL, 677477340390563634ULL, 11233786549411899601ULL, 15112825627627538167ULL, 10264082547906987353ULL, 7018657282485721476ULL, 2644817167518794146ULL, 10512372314464336627ULL, 2357402999367757173ULL, 5054142206279071792ULL, 16913260259778701063ULL, 611656683895395022ULL, 4105478304719743806ULL, 12059125990485537205ULL, 15706159040979990943ULL, 3075592856967655414ULL, 6978141055464248410ULL, 6975772706349900462ULL, 10623777699170766219ULL, 8428108248790863010ULL, 3961370341983194172ULL, 14518456358127701973ULL, 12584533592232128442ULL, 10806948484477019552ULL, 4160768895612264823ULL, 8367174886210889262ULL, 1481840818691135145ULL, 17404673655412972752ULL, 7198912689677564296ULL, 16316842566302458164ULL, 17755959122279446822ULL, 13288371151386640703ULL, 2140627893961893646ULL, 6853229838652250118ULL, 8280705786607660864ULL, 16201762101055193288ULL, 3037456487288209317ULL, 11881295603136147321ULL, 14602254358142499201ULL, 3474791647473144493ULL, 4149176581515589159ULL, 11203218139711763481ULL, 11525471463704390364ULL, 10274376256392959922ULL, 5023490339050162265ULL, 15532212549295499431ULL, 854427496982706446ULL, 11516887972883781379ULL, 17034474459414360697ULL, 12576755359171248664ULL, 12676692105712134564ULL, 4931004292204625863ULL, 16028671597485859964ULL, 2243730767185061731ULL, 15105036665747746601ULL, 479049841098815179ULL, 14548923145509420730ULL, 4778107245715550762ULL, 7374875087490665339ULL, 18064347286405676390ULL, 1980031336209514334ULL, 939920991075672122ULL, 1772539360738552875ULL, 7912936561146670661ULL, 10371630530356822206ULL, 10429094227932611441ULL, 2864866781707310354ULL, 217879261766883946ULL, 2854563524486896906ULL, 2028188089222888823ULL, 2317014223944933182ULL, 5960922581320671402ULL, 7793618099087143861ULL, 18153985201047220818ULL, 16960990595494201808ULL, 4467597124778495658ULL, 11889834190145144503ULL, 11173885916190368635ULL, 2138568782053847463ULL, 8639273686730773746ULL, 10939374288127032140ULL, 5669477893538412121ULL, 2323445222907543209ULL, 18207384986013439417ULL, 17582492213414283468ULL, 7427396987416693345ULL, 404592456860081065ULL, 8784778412854137734ULL, 54980640059885523ULL, 12273042694054590891ULL, 15468701562246767317ULL, 17874056551328729392ULL, 14331935678562124509ULL, 16896750605091422713ULL, 8520021562514258618ULL, 15362856655240891705ULL, 18442463741476003092ULL, 13598764679739642359ULL, 4731114880747147660ULL, 679780465238373665ULL, 1381482883267874690ULL, 2676641936590253920ULL, 5343803170598548626ULL, 12417792421634703838ULL, 800390596908882917ULL, 7554496788034346431ULL, 8614566114186535991ULL, 13251203791495176914ULL, 12832493974319276339ULL, 1916405097971325704ULL, 221249363823438908ULL, 8186348466039251488ULL, 14154169359333819338ULL, 8281278288647154088ULL, 14885229771380296781ULL, 8419071779228303280ULL, 13876186492253020776ULL, 15045977592889553092ULL, 16783851370958925543ULL, 17005449061907479507ULL, 10356827038452768841ULL, 845058702810511843ULL, 155215624946375763ULL, 13391376806212086638ULL, 12946841456907762158ULL, 14971887038387350745ULL, 8101595891687382094ULL, 15893566478676388549ULL, 2432744241098007928ULL, 2952700952927164861ULL, 13900656347049705361ULL, 15568350322762470807ULL, 13478043362773311936ULL, 10458536591618331975ULL, 7540758665361699709ULL, 13747457380155525460ULL, 3203713864420698873ULL, 14631594274699451032ULL, 6473222969771164269ULL, 1288695641846511780ULL, 5550615654966589771ULL, 14646533752823782151ULL, 17312747646070840117ULL, 11380557307765169912ULL, 7907446386693242617ULL, 12664111016842348821ULL, 10046016493606483636ULL, 13431524743597444533ULL, 17521932300059780769ULL, 7664843561766353515ULL, 10685567847939335401ULL, 4871589504218990374ULL, 7293871196600872898ULL, 4174426586854541252ULL, 7231717988419264139ULL, 17641605137817505092ULL, 6937355812578146810ULL, 13920514686565446368ULL, 16019864658445035136ULL, 1544078979125678730ULL, 4302043534370205110ULL, 14601819949123160113ULL, 5125925558081042761ULL, 14981385610674405178ULL, 8354539804549030553ULL, 10787204048107986172ULL, 4130985646394496237ULL, 7902565208370992981ULL, 882101016263785623ULL, 6540086167506353654ULL, 14556862822572790094ULL, 13132381381734216881ULL, 10885725671076789200ULL, 7482854515807160025ULL, 15102369287457806840ULL, 13110518303730730333ULL, 13149988046369763401ULL, 10392624249910693248ULL, 7151295122362983707ULL, 9075577955205564615ULL, 8146742770918052124ULL, 7789294806489665469ULL, 7128824839878501017ULL, 3239898024405997281ULL, 5141458917400377053ULL, 3866951499779692382ULL, 5012887903138342021ULL, 4360094514415611777ULL, 17115710991750563942ULL, 15292989834729363027ULL, 6887524842882602052ULL, 555750624207463504ULL, 7063548695012129812ULL, 14989990631525561650ULL, 6515951599686309660ULL, 13453406226699675351ULL, 1997541796461002821ULL, 16546022689933187994ULL, 10516499843615169549ULL, 2493804908964497146ULL, 8244090795395775571ULL, 9293805943901529479ULL, 8051860547409827010ULL, 11640842948514404769ULL, 16077286357083022848ULL, 12605526275677449354ULL, 8668620737297757108ULL, 9943212276504057180ULL, 11884000480193429120ULL, 17580166926729782390ULL, 17728268454253097004ULL, 4828986866342026143ULL, 4806580593315111809ULL, 13505859305244764923ULL, 1037890886029824073ULL, 17145230236002971454ULL, 7737095708940522030ULL, 5251964855620562680ULL, 4611553915911589295ULL, 4811366604227472080ULL, 16456438896254895554ULL, 14506457139436382756ULL, 5569830205099331931ULL, 7957907064055464853ULL, 6346872770843800483ULL, 9261708265968149352ULL, 7769368392371176975ULL, 9036308055486859657ULL, 2919472391970433397ULL, 1123647931632000160ULL, 8209637787222193916ULL, 15695538939601479153ULL, 5321939850834130481ULL, 14846704417885819120ULL, 14737809742661995833ULL, 9602328849103612921ULL, 12205620950725163433ULL, 11417806955976905824ULL, 7997779994235073260ULL, 4612670974553158279ULL, 4886136646068706147ULL, 5220234770067725741ULL, 1124885038577306011ULL, 6259920700978220082ULL, 4364180138570574586ULL, 9475623464533238069ULL, 7039612569518582024ULL, 5015120169850696222ULL, 4330305115700468037ULL, 3303792624144170019ULL, 17210287769126064743ULL, 8837434618791304810ULL, 3802223663361307231ULL, 6750620993956426392ULL, 8286768575469227534ULL, 13005167076840185458ULL, 11042384915456188924ULL, 17217422414587574906ULL, 7544629822261209975ULL, 11450787513794462153ULL, 13569320771309703883ULL, 9303956080581607750ULL, 11602783350710895522ULL, 13193251453976662006ULL, 8825989657839927070ULL, 14266777875738332294ULL, 12275481497795306520ULL, 4964960556814863969ULL, 4509339671873152621ULL, 10163134797477693050ULL, 13890995297845846203ULL, 15219248732949756833ULL, 7995345662610198186ULL, 7040018022305347726ULL, 15584992073257666447ULL, 14316475063320113229ULL, 12138347092457782690ULL, 8686841941687114895ULL, 17784288357696406136ULL, 1064111381706445358ULL, 6419568872700822067ULL, 12900382290962843717ULL, 3533431439233999471ULL, 5367436941102444072ULL, 8974210894815073270ULL, 11458368462966195132ULL, 5525383415324664103ULL, 14325667343014816676ULL, 17616756011790364651ULL, 16201113637368797116ULL, 5066501898454793882ULL, 14655495669654619700ULL, 9239789905745225717ULL, 15410765975035546476ULL, 17357233908982852577ULL, 5893346766853147189ULL, 5278932435337278665ULL, 7606631477567821725ULL, 9380668499985134383ULL, 9667388597425895925ULL, 13665176144463806768ULL, 11222890803556506520ULL, 9763811329702661483ULL, 525104718227527245ULL, 12637914505810851273ULL, 6100970867729725379ULL, 7272728308146427780ULL, 4318753521534361592ULL, 16729124635659094116ULL, 7613230461934803469ULL, 11595344127533047470ULL, 9372870059540297315ULL, 7003207627513124282ULL, 3465773121922159585ULL, 10490030734210165180ULL, 16563416612176322772ULL, 6917896950509014011ULL, 16965133017964335814ULL, 3013350072801937501ULL, 15870795432943428277ULL, 3183918713558416046ULL, 7746040112315536646ULL, 6703803419400667276ULL, 15377188394787954868ULL, 653511853409193154ULL, 17069116481410981883ULL, 7581653583233747520ULL, 510268252974989100ULL, 15900626814024859009ULL, 1940016009296691055ULL, 11282815869209222447ULL, 6851190217815574268ULL, 12365050265415498198ULL, 6849124967689877289ULL, 9651728730335292916ULL, 4366847365205599820ULL, 4964607491345882311ULL, 12980406734224509791ULL, 4899951919118548977ULL, 7980506689952292465ULL, 11114180696669436643ULL, 2411177060294725200ULL, 6064796998713657671ULL, 16065750592295111515ULL, 7803123950634880580ULL, 15809143631041315774ULL, 1252201334933026022ULL, 12928166345807787602ULL, 17273619777298503335ULL, 16708604045600955724ULL, 3180184291948219010ULL, 17194499005073318255ULL, 5721855816248892975ULL, 9957413710393274841ULL, 17927053699303506666ULL, 1685341714519750901ULL, 1599063237960491353ULL, 12404796123955047146ULL, 8734397888758420582ULL, 17961177660769216273ULL, 6458030313564891244ULL, 16905020862979749540ULL, 8465572347323475518ULL, 999102735733545037ULL, 18182963975312745448ULL, 3001513341400724634ULL, 12218377351735634546ULL, 5417896534955871232ULL, 1771819395981407949ULL, 3841224114405456116ULL, 16255373634383739995ULL, 11085899032933469636ULL, 6936315633015014988ULL, 10005336360349362624ULL, 12285196601367760670ULL, 7949439054841691309ULL, 9483376655719440948ULL, 9500130112258011883ULL, 11444949761499183642ULL, 13440510527384571223ULL, 11059599393944621424ULL, 4877807472397573429ULL, 6214843543574308115ULL, 6120252741224917564ULL, 2071396932728954557ULL, 6785811989242913827ULL, 3906706396949176379ULL, 4698041606884226798ULL, 18040630982903000722ULL, 2697581880949828028ULL, 18046477558699228022ULL, 13331172256659903199ULL, 9829981966801963441ULL, 14141978076969228632ULL, 5260231491580650519ULL, 11959959054623164024ULL, 9196569211715073473ULL, 2159378710710092768ULL, 3584694149128369691ULL, 4951772339848626644ULL, 10175937561428797831ULL, 2059071491987602188ULL, 15088877968490282185ULL, 6252561051954205488ULL, 2755338016377206853ULL, 9274619392375115494ULL, 8880362610514278752ULL, 10159983845147721387ULL, 15767498548164013574ULL, 3900268326390395729ULL, 11969701750612992247ULL, 13736308035824465803ULL, 9974469751346418003ULL, 1151965579587048289ULL, 7700770235351084962ULL, 4752434435097065257ULL, 9174787723091667709ULL, 1083060062983868801ULL, 8122099113176482570ULL, 9004138233916275998ULL, 3550675386035482168ULL, 10508620842887843494ULL, 4423927195567462094ULL, 7648876396226557570ULL, 913187078063505571ULL, 12478193611824445352ULL, 1336828654016961519ULL, 10302397151812675903ULL, 5257677638258470477ULL, 18167873542730765367ULL, 2505118315024115149ULL, 1955037830537450804ULL, 1474958285370846585ULL, 16923211844777964754ULL, 4596493484244784648ULL, 990456331279174572ULL, 5856118108303164280ULL, 14054640964609021642ULL, 14435193929686217042ULL, 8204410674229997450ULL, 6490218586106396615ULL, 6542252016271444222ULL, 1427955786771636273ULL, 6732481506885493600ULL, 3728892341591367015ULL, 13792670988611065853ULL, 13430030386417703601ULL, 1531309036756706271ULL, 7444533396159156855ULL, 4006601877074461690ULL, 17494891771602302369ULL, 5831578905139267375ULL, 10038992263033399154ULL, 15359145013775705560ULL, 4667075171448513008ULL, 746322204219395767ULL, 7459648233626525766ULL, 6485798626660701921ULL, 14013835786579469010ULL, 4168650684621363154ULL, 18209387680976673855ULL, 12919495014611761926ULL, 14252031670111310219ULL, 16670340163930668839ULL, 16768411689141111228ULL, 8097515941117410763ULL, 14406881915839323700ULL, 16752651144341528131ULL, 9857158445140162842ULL, 16578888465459075850ULL, 787022250508768781ULL, 6828563196043773703ULL, 17008220487173190679ULL, 7805884832558807013ULL, 1882572905904366210ULL, 3198100386437682493ULL, 9081763717614168038ULL, 1626347855943974610ULL, 14014072121951977674ULL, 11921252507618440877ULL, 2682737450792560639ULL, 7004405359366237376ULL, 17667055535930422092ULL, 5353749118783632963ULL, 12526811765279627463ULL, 3850922923761029941ULL, 6346053099590504969ULL, 13768900597188718752ULL, 1147576306522905402ULL, 8949557614615359005ULL, 14460967491433493056ULL, 5447520092987924721ULL, 9296050975052677427ULL, 9909584530131034300ULL, 11095844006106687521ULL, 5277386548442782068ULL, 18038345544891787234ULL, 163526507505578203ULL, 7980444173452710308ULL, 14846505714747383252ULL, 9621804663543747212ULL, 4714164322023468569ULL, 6976345519124898285ULL, 17051415511197460184ULL, 34308400239791504ULL, 15182749512574641240ULL, 16011261426189177787ULL, 8278194701697958213ULL, 18401100068821497256ULL, 17393168486051158442ULL, 15174334725156359510ULL, 9274622399727460821ULL, 3348723119178982037ULL, 10607166646648280510ULL, 3681436302657461999ULL, 2803063989030220483ULL, 7094077292106498043ULL, 714729647314454055ULL, 16616129430709785199ULL, 7889606988698809454ULL, 8754440797041712236ULL, 11741725229010163868ULL, 696038531686591743ULL, 3808930046896388018ULL, 4493390298760620703ULL, 1999655238989981155ULL, 2302600245501537035ULL, 8940574252217444001ULL, 9722874309083109656ULL, 8189531541408406838ULL, 1168046768774408707ULL, 16548971365762605072ULL, 9091258455832405835ULL, 17466894036522973255ULL, 5448645195184214748ULL, 10522481579984785498ULL, 3878672659630149732ULL, 5783236147968559219ULL, 17622496707449868300ULL, 5434445527186999281ULL, 8733804067390541467ULL, 14882735580640140327ULL, 11923075402467618495ULL, 6021003890978603278ULL, 13532085006061607063ULL, 1600328198990392212ULL, 6215516590216913836ULL, 5285730982026140737ULL, 9035347829659775652ULL, 8137334454163448667ULL, 1198345713321467028ULL, 14958290361069994397ULL, 211871963823860463ULL, 10657402245211501081ULL, 709463829079387043ULL, 14225628175099724464ULL, 3310985011333029485ULL, 5975476056720797081ULL, 6845511689559333899ULL, 13657655890762210327ULL, 7089781871957010767ULL, 13458315056847277635ULL, 16721166543093543732ULL, 10393878709207340312ULL, 2987727915828039119ULL, 9232606031149827901ULL, 15181162478178169667ULL, 10872017293257546032ULL, 12026279741050494451ULL, 1328821601849320921ULL, 3530360148053899093ULL, 9912691904193118873ULL, 13607340812915016444ULL, 9368590614375335325ULL, 9251847251090168340ULL, 8531635505145332876ULL, 574652653432456145ULL, 2257363713355294242ULL, 3407287880655447302ULL, 9991355183077085103ULL, 15522357325092149808ULL, 13355299160004831337ULL, 6001019966664367491ULL, 12403858337211218969ULL, 16493591157685961058ULL, 16246348071151151779ULL, 15653613754083624969ULL, 5087180383648813434ULL, 7694565265488930601ULL, 17374692233578914479ULL, 6954521156595443078ULL, 8136344062386520460ULL, 15794031120776589885ULL, 6465327961267129522ULL, 15573371931951087582ULL, 6081665026330814977ULL, 10621637541457594539ULL, 6852585545223638114ULL, 3000257107211205034ULL, 11135738031384476626ULL, 11327721465842080863ULL, 15085068787451543756ULL, 8143595279370541682ULL, 2715808765604062956ULL, 9259638295480385512ULL, 9895986487510203414ULL, 15551727235327005905ULL, 1620997360055092177ULL, 6794741481809983254ULL, 14592932542948484894ULL, 2639965634884110187ULL, 16433793223888377107ULL, 1224271400029767654ULL, 15054448909443556578ULL, 9915653763287132751ULL, 10009246408572161940ULL, 487164348678425195ULL, 16282509032781228717ULL, 18242525051944264755ULL, 2501801246579558810ULL, 15284521537928807515ULL, 922876670836764185ULL, 10004918939033110135ULL, 1818439180545454827ULL, 12426000216455293080ULL, 4467312476581581236ULL, 13714865798324526405ULL, 3898416096361273009ULL, 10738310059908183665ULL, 16510318903050204111ULL, 11046669978334775880ULL, 17054659118581612326ULL, 16464706544309994127ULL, 17146694570785751250ULL, 12388751097999064710ULL, 9158748956873039565ULL, 15591148786668936837ULL, 1943122305734770203ULL, 1164281987729492927ULL, 4155697871840586809ULL, 147067981771267115ULL, 14859417724147300097ULL, 2906216899386317481ULL, 8106231067411775961ULL, 1009223673732657294ULL, 8380983592692770084ULL, 2457483974652612552ULL, 5456808485393328991ULL, 17566635802152576140ULL};
uint64_t get_zobrist_hash(BoardState *board_s);

void initialize_transposition_table(TranspoTable *table, size_t size);
void free_transposition_table(TranspoTable *table);
TranspoTableEntry *get_transposition_table_entry(TranspoTable *table, uint64_t hash);
void store_transposition_table_entry(TranspoTable *table, uint64_t hash, Score score, int depth_to_go, Move best_move, Flag flag);
bool tt_lookup(TranspoTable *table, uint64_t hash, int depth_to_go, int alpha, int beta, int *score, Move *best_move, int *tt_depth);


#endif // ZOBRIST_H
